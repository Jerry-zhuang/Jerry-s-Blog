function hide_scroll(){html.css("overflow-y","hidden"),body.addClass("fix"),fixbar=$("#fixedbar"),fixbar.hasClass("fix")&&fixbar.addClass("fixed")}function show_scroll(){html.css("overflow-y","auto"),body.removeClass("fix"),fixbar=$("#fixedbar"),fixbar.hasClass("fix")&&fixbar.removeClass("fixed")}function overlay_add(a){var b='<section id="overlay" class="'+a+'"><div id="modal"></div></section>';$("#overlay."+a)[0]||$("body").append(b)}function overlay_remove(a){$("."+a).click(function(a){"overlay"==a.target.id&&($(this).slideUp(200,function(){$(this).remove()}),show_scroll())})}function overlay_disappear(a){$("#overlay."+a).slideUp(200,function(){$("#overlay."+a).remove()}),show_scroll()}function set_obj(a,b,c){id=a.data("id"),title=a.data("title"),url=a.data("url"),target=a.attr("id"),c=c?c:!1,get_post_data(id,title,url,b,target,c);var d=a.find("video")[0];d&&!d.paused&&d.pause()}function get_action(a){return"post"==a&&(action="ajax_content_post"),"page"==a&&(action="ajax_page_post"),action}function get_post_data(a,b,c,d,e,f){"undefined"!=typeof _czc&&_czc.push(["_trackPageview",c.replace(window.location.origin,"")]),link='<a href="'+c+'" class="full-link">查看完整内容</a>',className="jspost",$.ajax({type:"POST",data:{action:get_action(d),id:a},dataType:"html",timeout:6e3,beforeSend:function(){overlay_add(className),modal=$("#overlay #modal"),loading_start(modal)},error:function(a,b){"timeout"==b&&(alert("服务器没有响应"),location.replace(c)),overlay_disappear(className)},success:function(a){hide_scroll(),modal.html(a),NProgress.done(),modal.find("#pagination").remove(),modal.append(link),$("#main.plain")[0]&&$("#overlay #comments").remove(),f&&f(),window.addEventListener("popstate",function(){overlay_remove(className)},!1),$(".full-link, .post-inser a, .tags a, .meta a, .post-copyright a").click(function(){overlay_disappear(className)}),overlay_remove(className)}})}function tips_add(a){var d,e,b=$(".no-tips"),c=$("#notification");return!b[0]||c[0]?!1:(d='<span class="icon">&#xe6eb;</span>'+a,e='<div id="notification" class="js-msg"><div class="title">'+d+'</div><div class="info"></div></div><!-- #notification #-->',body.append(e),void 0)}function tips_remove(){var a=$("#notification")[0];a&&a.remove()}function tips_update(a){var b,c,d;tips_add("New Notification"),b=$("#notification"),c=$("#notification .info"),c.hasClass("has")&&(clearTimeout(closeNotification),c.removeClass("has")),d='<span class="msg">'+a+"</span>",c.html(d),c.addClass("has"),b.show(),closeNotification=setTimeout(function(){b.slideUp(300,function(){})},6e3)}function loading_template(){var a='<div class="loader">';return a+='<div class="circle"></div>',a+='<div class="circle"></div>',a+='<div class="circle"></div>',a+='<div class="circle"></div>',a+='<div class="circle"></div>',a+="</div>"}function loading_start(a){a.append(loading_template())}function loading_done(a){a.children(".loader").remove()}function banner(){var a=$("#banner-data img"),b=new Array,c=0,d=banner_bg.css("background-image");$.each(a,function(a){b[a]=$(this).attr("src"),c++}),b[c]=d,timer=setInterval(function(){banner_count++,c==banner_count&&(banner_count=0),banner_bg.css("background-image","url("+b[banner_count]+")")},banner_time)}var html=$("html"),body=$("body"),wrapper=$("#wrapper"),banner_count=0,banner_to=$("#banner-2")[0],video=$("#bgvideo video")[0],banner_bg=$(".banner.bg"),banner_time=banner_bg.data("time");banner_to&&!video&&""!=banner_time&&banner();